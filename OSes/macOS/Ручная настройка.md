## Ручная настройка

- [Ручная настройка](#ручная-настройка)
  - [Системные настройки](#системные-настройки)
    - [macOS 12 Monterey и более старые](#macos-12-monterey-и-более-старые)
    - [macOS 13 Ventura и более новые](#macos-13-ventura-и-более-новые)
    - [macOS 14 Ventura и более новые](#macos-14-ventura-и-более-новые)
  - [Finder](#finder)
    - [Настройки Finder](#настройки-finder)
    - [Настройки панели инструментов в окнах Finder](#настройки-панели-инструментов-в-окнах-finder)
    - [Настройки вида в папках](#настройки-вида-в-папках)
    - [Настройки вида Рабочего стола](#настройки-вида-рабочего-стола)
    - [Задать стандартный размер окна в Finder](#задать-стандартный-размер-окна-в-finder)
  - [Другое](#другое)


Порядок действий при ручной настройке Mac OS X

---

### Системные настройки

#### macOS 12 Monterey и более старые

1. Обновление ПО -> Отключить автообновление
2. Мышь -> Скорость прокрутки, Скорость перемещения курсора, Инверсия прокрутки
3. Экономия энергии ->
   1. Не переводить Mac в режим сна при выключенном дисплее
   2. По возможности переводить диски в режим сна - снять галку 
4. Рабочий стол и заставка -> Показывать с часами
5. Клавиатура -> Источники ввода -> Добавить "Русская - ПК" или "Русская - PC" и удалить просто "Русская", чтобы на не-Apple клавиатурах клавиша "ё" и некоторые другие были на своем месте
6. Клавиатура -> Клавиши модификации -> поменять местами Control и Command
7. Spotlight -> Конфиденциальность -> Добавить папки которые не нужно индексировать (В основно HDD)
8. Мониторы -> назначить главный монитор

#### macOS 13 Ventura и более новые

1. Установить ввод пароля для sudo с помощью Touch ID
   - https://apple.stackexchange.com/questions/259093/can-touch-id-on-mac-authenticate-sudo-in-terminal/306324#comment694328_466029
   - или функция `use_touchid_on_sudo` в файле [setup_macos.sh](./files/setup_macos.sh)

#### macOS 14 Ventura и более новые

1. Установить ввод пароля для sudo с помощью Touch ID
   - https://apple.stackexchange.com/questions/259093/can-touch-id-on-mac-authenticate-sudo-in-terminal/306324#comment694328_466029
   - или функция `use_touchid_on_sudo` в файле [setup_macos.sh](./files/setup_macos.sh)

---

### Finder

#### Настройки Finder

1. Основные
   - Показывать на рабочем столе
      1. Поставить галку на "Жесткие диски"
      2. Снять галку "Подключенные серверы"
   - Показывать в новых окнах Finder -> Папка пользователя
   - "Открывать папки в новых вкладках, а не в новых окнах" - убрать галку
2. Боковое меню
   - Избранное
      1. Недавние, AirDrop - убрать галку
      2. Папка пользователя - поставить галку
   - Места
      1. iCloud Drive, Bonjour-компьютеры, Облачное хранилище - убрать галку
      2. "Мое устройство - Мой пользователь", Жесткие диски - ставить галку
   - Недавние теги - убрать галку
3. Дополнения
   - Показывать все расширения имен файлов
   - Отображать папки вверху списка -> ставим обе галки - В окнах при сортировке по имени, На Рабочем столе
   - При выполнении поиска - > Искать в текущей папке

#### Настройки панели инструментов в окнах Finder

1. Добавить значки:
   - Новая папка
   - Удалить
2. Удалить значки
   - Поделиться
   - Править теги

#### Настройки вида в папках

1. Сбросить вид во всех папках в системе и всех подключенных устройствах. Для этого необходимо везде удалить файлы `.DS_Store`
   1. Для удаления из macOS и всех подключенных устройств `sudo find / -name ".DS_Store" -type f -depth -exec rm -f {} \;`
   2. Удалить везде кроме примонтированных разделов (и подключенных накопителей) `sudo find -x / -name ".DS_Store" -type f -depth -exec rm -f {} \;`
   3. https://iboysoft.com/wiki/ds-store.html
   4. https://osxdaily.com/2012/07/05/delete-all-ds-store-files-from-mac-os-x/
2. Закрываем все окна, открываем папку "Мое устройство - мой пользователь" (если необходимо изменить вид на всех подключенных устройствах), либо папку "Macintosh HD" (если необходимо изменить вид только во всей macOS)
3. ПКМ в пустом месте в папке -> Показать параметры вида
   - Всегда открывать как список
   - Добавить столбец "Дата добавления"
4. Сделать параметрами по умолчанию
5. Перезапустить Finder (например в Терминале команда `killall Finder`)

#### Настройки вида Рабочего стола

1. ПКМ в пустом месте -> Показать параметры вида
2. Сортировать -> Привязать к сетке
3. ПКМ в пустом месте -> Расставить сейчас

#### Задать стандартный размер окна в Finder

- Статьи
  - https://apple.stackexchange.com/questions/175883/how-to-set-default-finder-window-size
    - https://synappser.github.io/apps/finderfix/

Похоже распространенные действия с закрытием окна с зажатой клавишей `Command` работают максимум до oS X 10.10 Yosemite, а начиная с OS X 10.11 El Capitan окно Finder необходимо закрывать с `Command + Alt/Option`

---

### Другое

- Удалить лишние значки из панели Dock
- Показать скрытые файлы
  - для OS X 10.9 и новее `defaults write com.apple.finder AppleShowAllFiles true;killall Finder`
  - для OS X 10.8 и старее `defaults write com.apple.Finder AppleShowAllFiles true;killall Finder`
  - https://osxdaily.com/2009/02/25/show-hidden-files-in-os-x/
- Отключить Gatekeeper
  - Для OS X 10.11 El Capitan и более старых - Системные настройки -> Защита и безопасность -> Запуск приложений из любого источника
  - Для macOS 10.12 - 10.15.7 в терминале `sudo spctl --master-disable`
  - Для macOS 11 BigSur и новее в терминале `sudo spctl --global-disable`
  - Для macOS 13 Ventura и новее в терминале `spctl --global-disable; open "x-apple.systempreferences:com.apple.preference.security?Security"` и вручную в системных настройках переключить пункт